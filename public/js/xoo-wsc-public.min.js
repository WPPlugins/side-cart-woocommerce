jQuery(document).ready(function(a){"use strict";function b(){a(".xoo-wsc-modal , body").toggleClass("xoo-wsc-active")}function c(b){a.each(b.target.classList,function(b,c){"xoo-wsc-container"==c||"xoo-wsc-close"!=c&&"xoo-wsc-opac"!=c&&"xoo-wsc-basket"!=c&&"xoo-wsc-cont"!=c||a(".xoo-wsc-modal , body").removeClass("xoo-wsc-active")})}function d(){var b=a(".xoo-wsc-header").outerHeight(),c=a(".xoo-wsc-footer").outerHeight(),d=a(window).height();a(".xoo-wsc-body").outerHeight(d-(b+c))}function e(b){var e=(b.fragments,b.cart_hash,b.fragments["div.widget_shopping_cart_content"]);a(".woofc-trigger").css("transform","scale(1)"),a(".shopping-cart-inner").html(e);var f=a(".cart_list:first").find("li").length;a(".shopping-cart span.counter , ul.woofc-count li").html(f)}function f(c,d,e){a.ajax({url:localize.adminurl,type:"POST",data:{action:"add_to_cart",item_id:d,quantity:e},success:function(a,d,e){c.find(".xoo-wsc-icon-atc").attr("class","xoo-wsc-icon-checkmark xoo-wsc-icon-atc"),b(),g(a)}})}function g(b){a(".xoo-wsc-content").html(b.cart_markup),a(".xoo-wsc-items-count").html(b.items_count),d(),e(b.ajax_fragm)}function h(b,c){a(".xoo-wsc-updating").show(),a.ajax({url:localize.adminurl,type:"POST",data:{action:"update_cart",cart_key:b,new_qty:c},success:function(b){g(b),a(".xoo-wsc-updating").hide()}})}a(".xoo-wsc-basket").on("click",b),localize.added_to_cart&&b(),a(".xoo-wsc-close , .xoo-wsc-opac , .xoo-wsc-cont").click(c),d(),a(window).resize(function(){d()}),a(document).on("click",".xoo-wsc-remove",function(b){b.preventDefault(),h(a(this).parents(".xoo-wsc-product").data("xoo_wsc"),0)}),1==localize.ajax_atc&&a(document).on("submit","form.cart",function(b){b.preventDefault();var c=a(this).find(".single_add_to_cart_button");if(0!==c.find(".xoo-wsc-icon-atc").length?c.find(".xoo-wsc-icon-atc").attr("class","xoo-wsc-icon-spinner xoo-wsc-icon-atc xoo-wsc-active"):c.append('<span class="xoo-wsc-icon-spinner xoo-wsc-icon-atc xoo-wsc-active"></span>'),a(this).find("[name=variation_id]").length>0)var e=parseInt(a(this).find("[name=variation_id]").val());else var e=parseInt(a(this).find("[name=add-to-cart]").val());f(c,e,parseInt(a(this).find(".quantity").find(".qty").val()))});var i=".add_to_cart_button";if(localize.shop_btn)var j=i+", "+localize.shop_btn;else var j=i;a(j).on("click",function(b){var c=a(this);if(!c.hasClass("product_type_variable")){b.preventDefault(),0!==c.find(".xoo-wsc-icon-atc").length?c.find(".xoo-wsc-icon-atc").attr("class","xoo-wsc-icon-spinner xoo-wsc-icon-atc xoo-wsc-active"):c.append('<span class="xoo-wsc-icon-spinner xoo-wsc-icon-atc xoo-wsc-active"></span>');f(c,c.data("product_id"),1)}})});